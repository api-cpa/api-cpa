<% content_for(:page_title) { @contract.name } %>

<div class="b-io-content--secondary">
  <div class="container-fluid">
    <% if !current_company.nil? %>
        <%= link_to t('actions.edit'), edit_company_contract_path(current_company, @contract), class: 'btn btn-secondary' %>
    <% elsif !current_service.nil? %>
        <%= link_to t('actions.edit'), edit_service_contract_path(current_service, @contract), class: 'btn btn-secondary' %>
    <% else %>
        <%= link_to t('actions.edit'), edit_contract_path(@contract), class: 'btn btn-secondary' %>
    <% end %>
    <table class="table">
      <tbody>
        <% unless @contract.company.nil? %>
          <tr>
            <td><%= t('actions.activate') %></td>
            <td><%= @contract.activate %></td>
          </tr>
          <tr>
            <td><%= t('actions.status') %></td>
            <td><%= format_contract_status_collection[@contract.status][0] %></td>
          </tr>
          <tr>
            <td><%= t('activerecord.attributes.contract.company') %></td>
            <td><%= @contract.company.name %></td>
          </tr>
        <% end %>
        <% unless @contract.startup.nil? %>
          <tr>
            <td><%= t('activerecord.attributes.contract.startup') %></td>
            <td><%= @contract.startup.name %></td>
          </tr>
        <% end %>
        <% unless @contract.client.nil? %>
          <tr>
            <td><%= t('activerecord.attributes.contract.client') %></td>
            <td class="text-left"><%= @contract.client.name %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <% if !current_company.nil? %>
        <%= button_to t('actions.destroy'), company_contract_path(current_company), class: 'btn btn-danger', data: { confirm: "Are you sure?" }, method: :delete %>
    <% elsif !current_service.nil? %>
        <%= button_to t('actions.destroy'), service_contract_path(current_service), class: 'btn btn-danger', data: { confirm: "Are you sure?" }, method: :delete %>
    <% else %>
        <%= button_to t('actions.destroy'), contract_path, class: 'btn btn-danger', data: { confirm: "Are you sure?" }, method: :delete %>
    <% end %>
    </div>
</div>
