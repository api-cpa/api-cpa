<!DOCTYPE html>
<html>
<head>
  <title><% if content_for?(:page_title) %><%= content_for(:page_title) %> / <% end %><%= t('misc.back_office') %> / <%= t('config.platform_name') %></title>
  <%= csrf_meta_tags %>

  <%= render partial: 'shared/favicon' %>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700" rel="stylesheet">
  <%= stylesheet_link_tag    'application', media: 'all' %>
</head>

<body>

  <div class="container-fluid">

    <div class="b-io-topbar">
      <div class="container-fluid">
        <%= render partial: 'shared/topbar' %>
      </div>
    </div>

    <div class="b-io-main-container b-io-back-office">

      <div class="row">
        <div class="col-md-3">

          <div class="b-io-menu">
            <div class="b-io-menu--secondary">
              <div class="list-group">
                <%= link_to t('misc.back_office'), back_office_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'back_office' && action_name == 'index' }" %>
                <%= link_to back_office_users_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'users'}" do %>
                  <i class="fa fa-fw fa-users"></i> &nbsp;<%= t('activerecord.models.user').pluralize %>
                <% end %>
                <%= link_to back_office_services_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'services'}" do %>
                  <i class="fa fa-fw fa-cubes"></i> &nbsp;<%= t('activerecord.models.service').pluralize %>
                <% end %>
                <%= link_to back_office_contracts_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'contracts'}" do %>
                  <i class="fa fa-fw fa-edit"></i> &nbsp;<%= t('activerecord.models.contract').pluralize %>
                <% end %>
                <%= link_to back_office_bank_details_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'bank_details'}" do %>
                  <i class="fa fa-fw fa-credit-card"></i> &nbsp;<%= t('activerecord.models.bank_detail').pluralize %>
                <% end %>
                <%= link_to back_office_bills_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'bills'}" do %>
                  <i class="fa fa-fw fa-file-text-o"></i> &nbsp;<%= t('activerecord.models.bill').pluralize %>
                <% end %>
                <%= link_to back_office_categories_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'categories'}" do %>
                  <i class="fa fa-fw fa-folder-open"></i> &nbsp;<%= t('activerecord.models.category').pluralize %>
                <% end %>
                <%= link_to back_office_general_conditions_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'general_conditions'}" do %>
                  <i class="fa fa-fw fa-file-text"></i> &nbsp;<%= t('activerecord.models.general_condition').pluralize %>
                <% end %>
                <%= link_to back_office_tickets_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'tickets'}" do %>
                  <i class="fa fa-fw fa-envelope"></i> &nbsp;<%= t('activerecord.models.ticket').pluralize %>
                <% end %>
                <%= link_to t('activerecord.models.documentation').pluralize, back_office_documentations_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'documentations'}" %>
                <%= link_to back_office_appconfigs_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'appconfigs'}" do %>
                  <i class="fa fa-fw fa-cogs"></i> &nbsp;<%= t('activerecord.models.appconfig') %>
                <% end %>
                <%= link_to back_office_error_measurements_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'error_measurements' }" do %>
                  <i class="fa fa-fw fa-warning"></i> &nbsp;<%= t('error_measurements.index.title') %>
                <% end %>
                <%= link_to back_office_request_templates_path, class: "list-group-item list-group-item-action #{'active' if controller_name == 'request_templates' }" do %>
                    <i class="fa fa-fw fa-warning"></i> &nbsp;<%= t('request_templates.index.title') %>
                <% end %>
              </div>
            </div>
          </div>

        </div>
        <div class="col-md-9">

          <div class="b-io-content">

            <div class="b-io-content--header">
              <div class="container-fluid">
                <% if content_for?(:page_controls) %>
                  <div class="b-io-content--header--controls"><%= content_for(:page_controls) %></div>
                <% end %>
                <h3>
                  <% if content_for?(:page_back) %>
                    <%= link_to t('actions.back'), content_for(:page_back), class: 'btn btn-link btn-sm' %>
                  <% end %>
                  <%= content_for(:page_title) %>
                </h3>
                <% if content_for?(:page_description) %>
                  <p><%= content_for(:page_description) %></p>
                <% end %>
              </div>
            </div>

            <%= yield %>

          </div>

        </div>
      </div>

    </div>
  </div>

  <%= render partial: 'shared/modal_window' %>

  <%= render partial: 'shared/flash' %>

  <%= javascript_include_tag 'application' %>

  <script type="text/javascript">
    I18n.locale = '<%= I18n.locale %>';
  </script>

  <%= content_for(:extra_js) %>

</body>
</html>
