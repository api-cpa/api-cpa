<%= simple_form_for [current_service, current_proxy, object], remote: !!request.xhr? do |f| %>

  <%= error_messages_for(f.object) %>

  <%= f.input :route_id,
              collection: format_routes_for_select(@routes),
              input_html: {
                class: 'select2'
              },
              readonly: true %>

  <%= f.input :method,
              collection: Route::ALLOWED_METHODS,
              input_html: {
                class: 'col-sm-3'
              },
              include_blank: false %>

  <%= f.input :format,
              collection: Route::ALLOWED_FORMATS,
              input_html: {
                class: 'col-sm-7'
              },
              include_blank: false %>

  <%= f.input :body,
              as: :json,
              input_html: {
                rows: 10
              } %>

  <div class="row">
    <div class="actions col-md-9 offset-md-3">
      <%= f.button :submit, value: I18n.t('actions.save'), data: { disable_with: t('actions.save_in_progress') } %>
    </div>
  </div>

<% end %>